{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/account.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction AddressComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"strong\");\n    i0.ɵɵtext(2, \"Oh ho !\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"button\", 24)(5, \"span\", 6);\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errMsg, \" \");\n  }\n}\n\nfunction AddressComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"input\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_div_26_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.adrsDetails.addressType = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", i_r3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.adrsDetails.addressType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", i_r3, \" \");\n  }\n}\n\nexport let AddressComponent = /*#__PURE__*/(() => {\n  class AddressComponent {\n    constructor(http, router, url, accountService) {\n      this.http = http;\n      this.router = router;\n      this.url = url;\n      this.accountService = accountService;\n      this.details = {};\n      this.adrsDetails = {};\n      this.result = {};\n      this.model = {};\n      this.mockApi = 'http:://localhost:8089/api/user/address';\n    }\n\n    ngOnInit() {\n      // tslint:disable-next-line:no-string-literal\n      // this.id = this.router.snapshot.params['id'];\n      let user = JSON.parse(localStorage.getItem('user'));\n      this.id = user.id;\n      this.getDetails();\n      this.category = [\"Home\", \"Office\", \"Other\"];\n    } // searchAddress(e: any) {\n    //   var pincode ;\n    //   console.log( pincode = e.target.value); \n    //   this.http.get('https://api.worldpostallocations.com/pincode',{\n    //     params: {\n    //       postalcode: pincode,\n    //       countrycode: 'IN'\n    //     },\n    //     observe: 'response'\n    //   }).toPromise()\n    //   .then(response => {\n    //     this.rsp = response;\n    //     this.result = this.rsp.body.result;\n    //   })\n    // }\n    // onSelect(e) {\n    //   this.newAddress = e;\n    //   console.log(this.newAddress);\n    //   // if (this.adrsDetails.addressLine2 == null)\n    //   // {\n    //   //   this.adrsDetails = {\n    //   //     addressLine1: this.adrsDetails.addressLine1,\n    //   //     addressLine2: this.newAddress.postalLocation,\n    //   //     pinCode: this.newAddress.postalCode,\n    //   //     city: this.newAddress.province,\n    //   //     town: this.newAddress.district,\n    //   //     state: this.newAddress.state,\n    //   //     country: this.newAddress.country,\n    //   //     isActive: true,\n    //   //     addressCategory: this.adrsDetails.addressCategory\n    //   //   }\n    //   //   this.rsp='';\n    //   // }\n    //   // else \n    //   // {\n    //   //   this.adrsDetails = {\n    //   //     userId: this.id,\n    //   //     addressLine1: this.adrsDetails.addressLine1,\n    //   //     addressLine2: this.adrsDetails.addressLine2,\n    //   //     pinCode: parseInt(this.newAddress.postalCode),\n    //   //     city: this.newAddress.postalLocation,\n    //   //     town: this.newAddress.district,\n    //   //     state: this.newAddress.state,\n    //   //     country: this.newAddress.country,\n    //   //     isActive: true,\n    //   //     addressCategory: this.adrsDetails.addressCategory\n    //   //   }\n    //   //   this.rsp='';\n    //   // }\n    // }\n\n\n    createAddress() {\n      if (this.adrsDetails.addressLine1 == null && this.adrsDetails.pincode == null) {\n        this.errMsg = \"Please fill all required fildes.\";\n      } // console.log(this.adrsDetails);\n      // this.accountService.createUserAddress(this.adrsDetails);\n\n\n      this.accountService.createUserAddress(this.adrsDetails).subscribe(res => {\n        if (res) {\n          Swal.fire('Wah !', 'Address Added Successfully', 'success').then(result => {\n            if (result.isConfirmed) {\n              window.location.reload();\n            }\n\n            window.location.reload();\n          });\n        }\n      }, err => {\n        if (err) {\n          console.log(err);\n          Swal.fire('Ah oh !', 'There is some issue, please check', 'warning').then(result => {\n            if (result.isConfirmed) {\n              window.location.reload();\n            }\n\n            window.location.reload();\n          });\n        }\n      });\n    }\n\n    getDetails() {\n      this.accountService.getProfile().subscribe(res => {\n        this.details = res; //  console.log(this.details)\n      });\n    }\n\n  }\n\n  AddressComponent.ɵfac = function AddressComponent_Factory(t) {\n    return new (t || AddressComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AccountService));\n  };\n\n  AddressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddressComponent,\n    selectors: [[\"app-address\"]],\n    decls: 32,\n    vars: 9,\n    consts: [[3, \"ngSubmit\"], [\"createForm\", \"ngForm\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"class\", \"alert alert-warning alert-dismissible fade show animated\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"addressLine1\", \"placeholder\", \"House / Apertment / Floor\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"addressLine2\", \"placeholder\", \"Street / Landmark\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"pinCode\", \"placeholder\", \"Pincode\", 1, \"form-control\", \"col\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"form-inline\"], [\"type\", \"text\", \"name\", \"city\", \"placeholder\", \"City\", 1, \"form-control\", \"m-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"town\", \"placeholder\", \"Town/District\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"state\", \"placeholder\", \"State\", 1, \"form-control\", \"m-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"country\", \"placeholder\", \"Country\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"addressType\"], [\"class\", \"col m-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\", \"alert-dismissible\", \"fade\", \"show\", \"animated\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\"], [1, \"col\", \"m-2\"], [\"type\", \"radio\", \"name\", \"addressType\", 1, \"form-control\", \"mr-2\", 3, \"ngModel\", \"value\", \"ngModelChange\"]],\n    template: function AddressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0, 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddressComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.createAddress();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h5\", 4);\n        i0.ɵɵtext(5, \"Add Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 5)(7, \"span\", 6);\n        i0.ɵɵtext(8, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵtemplate(10, AddressComponent_div_10_Template, 7, 1, \"div\", 8);\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.adrsDetails.addressLine1 = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 9)(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.adrsDetails.addressLine2 = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.adrsDetails.pinCode = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 13)(18, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.adrsDetails.city = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.adrsDetails.town = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 13)(21, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.adrsDetails.state = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function AddressComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.adrsDetails.country = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 13)(24, \"label\", 18);\n        i0.ɵɵtext(25, \"Addres Type : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, AddressComponent_div_26_Template, 3, 3, \"div\", 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 20)(28, \"button\", 21);\n        i0.ɵɵtext(29, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 22);\n        i0.ɵɵtext(31, \"Save\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.errMsg);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.addressLine1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.addressLine2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.pinCode);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.city);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.town);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.state);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.adrsDetails.country);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.category);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgForOf, i4.RadioControlValueAccessor],\n    styles: [\".animated[_ngcontent-%COMP%]{background-color:#ebdd60;background-position:left top;animation-duration:10s;animation-fill-mode:both}\"]\n  });\n  return AddressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}